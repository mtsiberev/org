<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>@ViewBag.Title</title>
    
    
    <script type="text/javascript" src="jquery.cookie.js"></script>
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
    <script src="../../Content/JavaScript.js"></script>
    <link rel="stylesheet" href="../../Content/style.css" type="text/css" />
    
    

</head>
<body>
    
    <div class="userMenu">
        <nav>
            <ul>
                <li>
                    <a class="dropdown" href="#">@WebSecurity.CurrentUserName</a>
                    <ul>
                        <li>
                            @Html.ActionLink("Logout", "Logout", "Account")
                        </li>

                        @if (Roles.IsUserInRole("admin"))
                        {
                            <li>
                                @Html.ActionLink("Administration", "Administration", "Account")
                            </li>
                        }
                    </ul>
                </li>
            </ul>
        </nav>
    </div>
    

    <div class="header" style="background: #3F51B5">
        <span style="background: #3F51B5;">
            <span style="color: #fff">
                @ViewBag.Title
            </span>
        </span>

        <span class="operationBlock" style="background: #3F51B5">

            @if (Roles.IsUserInRole("admin"))
            {
                if (@ViewBag.Title == "Organizations")
                {
                    using (Html.BeginForm("AddOrganizationMenu", "Organization", FormMethod.Post))
                    {
                        <input style="background: #3F51B5" type="image" src="../../Content/ic_add_box_24px_inverse.svg" alt="add" name="submit" />
                    }
                }

                if (@ViewBag.Title == "Organization Info")
                {
                    
                    using (Html.BeginForm("Index", "Home", FormMethod.Post))
                    {
                        <input type="image" src="../../Content/ic_home_24px_inverse.svg" alt="add" name="submit" />
                    }
                    

                    using (Html.BeginForm("AddDepartmentMenu", "Department", new { id = @Model.Id }, FormMethod.Post))
                    {
                        <input style="background: #3F51B5" type="image" src="../../Content/ic_add_box_24px_inverse.svg" alt="add" name="submit" />
                    }

                }

                if (@ViewBag.Title == "Department Info")
                {
                    using (Html.BeginForm("Index", "Home", FormMethod.Post))
                    {
                        <input type="image" src="../../Content/ic_home_24px_inverse.svg" alt="add" name="submit" />
                    }
                    
                    using (Html.BeginForm("AddEmployeeMenu", "Employee", new { id = @Model.Id }, FormMethod.Post))
                    {
                        <input style="background: #3F51B5" type="image" src="../../Content/ic_add_box_24px_inverse.svg" alt="add" name="submit" />
                    }
                }
            }


            @if (Request.Cookies["sort"] != null)
            {
                var value = Request.Cookies["sort"].Value;
                if (value == "ascending")
                {
                    <form>
                        <img src="../../Content/sort-descending.svg" onclick=" sortSwitch() " style="cursor: pointer;" />
                    </form>
                }
                else if (value == "descending")
                {
                    <form>
                        <img src="../../Content/sort-ascending.svg" onclick=" sortSwitch() " style="cursor: pointer;" />
                    </form>
                }
            }
            else
            {
                <form>
                    <img src="../../Content/sort-ascending.svg" onclick=" sortSwitch() " style="cursor: pointer;" />
                </form>
            }

            @if (Request.Cookies["view"] != null)
            {
                var value = Request.Cookies["view"].Value;
                if (value == "list")
                {
                    <form>
                        <img src="../../Content/view-module.svg" onclick=" setGrid() " style="cursor: pointer;" />
                    </form>
                }
                else if (value == "grid")
                {
                    <form>
                        <img src="../../Content/view-list.svg" onclick=" setList() " style="cursor: pointer;" />
                    </form>
                }
            }
            else
            {
                <form>
                    <img src="../../Content/view-module.svg" onclick=" setGrid() " style="cursor: pointer;" />
                </form>
            }
        </span>
        <br>
    </div>


    <div>
        @RenderBody()
    </div>
    

    <br>
    <span class="operationBlock" style="background: #000; width: 600px">
        <form>
            <img src="../../Content/ic-double-left.svg" onclick=" prevPage() " style="cursor: pointer;" />
        </form>

        @if (Request.Cookies["pageNumber"] != null)
        {
            var stringPageNumber = Request.Cookies["pageNumber"].Value;
            var currentPageNumber = Convert.ToInt32(stringPageNumber);

            var stringMaxPageNumber = Request.Cookies["maxPageNumber"].Value;
            var maxPageNumber = Convert.ToInt32(stringMaxPageNumber);
            <form>
                <span style=" font-family: RobotoDraft,Roboto,sans-serif; font-size: 20px; color: #ffffff;">
                    @currentPageNumber / @maxPageNumber
                </span>
            </form>
        }
        <form>
            <img src="../../Content/ic-double-right.svg" onclick=" nextPage() " style="cursor: pointer;" />
        </form>
    </span>
    
</body>
</html>
