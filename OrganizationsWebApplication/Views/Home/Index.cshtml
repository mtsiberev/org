@using OrganizationsWebApplication.Controllers
@model OrganizationsWebApplication.Models.OrganizationListModels

@{
    ViewBag.Title = "Index";
}

<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript" src="jquery.cookie.js"></script>

    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
    <script src="../../Content/JavaScript.js"></script>
    <link rel="stylesheet" href="../../Content/style.css" type="text/css" />

    <title></title>
</head>
<body onload="setView()">

    <div class="header" style="background: #3F51B5;">
        <span style="background: #3F51B5;">
            <span style="color: #fff">
                Organizations
            </span>
        </span>

        <span class="operationBlock" style="background: #3F51B5">

            @using (Html.BeginForm("AddOrganizationMenu", "Organization", FormMethod.Post))
            {
                <input style="background: #3F51B5" type="image" src="../../Content/ic_add_box_24px_inverse.svg" alt="add" name="submit" />
            }

            @if (Request.Cookies["sort"] != null)
            {
                var value = Request.Cookies["sort"].Value;
                if (value == "ascending")
                {
                    <form>
                        <input onclick=" sortSwitch() " style="background: #3F51B5" type="image" src="../../Content/sort-descending.svg" alt="add" name="submit" />
                    </form>
                }
                else if (value == "descending")
                {
                    <form>
                        <input onclick=" sortSwitch() " style="background: #3F51B5" type="image" src="../../Content/sort-ascending.svg" alt="add" name="submit" />
                    </form>
                }
            }
            else
            {
                <form>
                    <input onclick=" sortSwitch() " style="background: #3F51B5" type="image" src="../../Content/sort-ascending.svg" alt="add" name="submit" />
                </form>
            }

            @if (Request.Cookies["view"] != null)
            {
                var value = Request.Cookies["view"].Value;
                if (value == "list")
                {
                    <form>
                        <input onclick=" setGrid() " style="background: #3F51B5" type="image" src="../../Content/view-module.svg" alt="grid" name="submit" />
                    </form>
                }
                else if (value == "grid")
                {
                    <form>
                        <input onclick=" setList() " style="background: #3F51B5" type="image" src="../../Content/view-list.svg" alt="list" name="submit" />
                    </form>
                }
            }
            else
            {
                <form>
                    <input onclick=" setGrid() " style="background: #3F51B5" type="image" src="../../Content/view-module.svg" alt="grid" name="submit" />
                </form>
            }

        </span>
        <br>

    </div>

    <div class="content">
        @foreach (var organization in Model.Organizations)
        {
            <div class="row">
                <span class="block">
                    @Html.ActionLink(organization.Name, "OrganizationInfo", "Organization",
                            new { id = organization.Id }, null)
                </span>
                <span class="operationBlock">
                    @using (Html.BeginForm("UpdateOrganizationMenu", "Organization", new { id = organization.Id }))
                    {
                        <input type="image" src="../../Content/ic_mode_edit_24px.svg" alt="edit" name="submit" />
                    }
                    @using (Html.BeginForm("DeleteOrganization", "Organization", new { id = organization.Id }))
                    {
                        <input type="image" src="../../Content/ic_delete_24px.svg" alt="delete" name="submit" />
                    }
                </span>
            </div>
        }
    </div>
</body>

</html>